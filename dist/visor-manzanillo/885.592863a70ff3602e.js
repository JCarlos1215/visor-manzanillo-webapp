"use strict";(self.webpackChunkvisor_manzanillo=self.webpackChunkvisor_manzanillo||[]).push([[885],{4885:(Xe,C,l)=>{l.r(C),l.d(C,{AdminPanelModule:()=>Ke});var g=l(9808),f=l(1787),c=l(4999),m=l(8966),e=l(5e3),A=l(7423);let x=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i}ngOnInit(){}actionSelected(t){this.dialogRef.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.so),e.Y36(m.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sic-question-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4"),e._uU(2),e.qZA(),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"button",3),e.NdJ("click",function(){return i.actionSelected(!1)}),e._uU(8),e.qZA(),e.TgZ(9,"button",4),e.NdJ("click",function(){return i.actionSelected(!0)}),e._uU(10),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.data.title),e.xp6(3),e.Oqu(i.data.question),e.xp6(3),e.Oqu(i.data.answerNo),e.xp6(2),e.Oqu(i.data.answerYes))},directives:[m.uh,m.xY,m.H8,A.lW],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}"]}),n})();var w=l(3538),M=l(9291),b=l(2058),q=l(7727),U=l(3874),P=l(3251),N=l(2204),T=l(7322),O=l(7531),k=l(9772),v=l(3954),d=l(3075),R=l(7446),h=l(9224),y=l(2368);const u=function(n){return{correct:n}};function J(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function E(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Apellido"),e.qZA())}function L(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.surname)}}function Q(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Nombre"),e.qZA())}function Y(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.givenname)}}function H(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Rol"),e.qZA())}function F(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.rol)}}function I(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Usuario"),e.qZA())}function S(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.username)}}function D(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Compa\xf1ia"),e.qZA())}function V(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.company)}}function j(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Puesto"),e.qZA())}function $(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.job)}}function G(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Fecha de creaci\xf3n"),e.qZA())}function B(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(i.getFormatDate(t.createdAt))}}function z(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Acciones"),e.qZA())}function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",56),e.TgZ(1,"button",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).userEdition(a)}),e.TgZ(2,"mat-icon"),e._uU(3,"create"),e.qZA(),e.qZA(),e.TgZ(4,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).userDelete(a)}),e.TgZ(5,"mat-icon"),e._uU(6,"delete_forever"),e.qZA(),e.qZA(),e.qZA()}}function X(n,o){1&n&&e._UZ(0,"tr",59)}function W(n,o){1&n&&e._UZ(0,"tr",60)}function ee(n,o){if(1&n&&(e.TgZ(0,"td",64),e._uU(1),e.qZA()),2&n){e.oxw(2);const t=e.MAs(16);e.xp6(1),e.hij('No se encontraron usuarios con el filtro "',t.value,'"')}}function te(n,o){1&n&&(e.TgZ(0,"td",64),e._uU(1," No se han obtenido usuarios "),e.qZA())}function ne(n,o){if(1&n&&(e.TgZ(0,"tr",61),e.YNc(1,ee,2,1,"td",62),e.YNc(2,te,2,0,"ng-template",null,63,e.W1O),e.qZA()),2&n){const t=e.MAs(3);e.oxw();const i=e.MAs(16);e.xp6(1),e.Q6J("ngIf",""!==i.value)("ngIfElse",t)}}function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",28),e.TgZ(2,"mat-icon"),e._uU(3,"person"),e.qZA(),e.TgZ(4,"span",29),e._uU(5," Lista de usuarios "),e.qZA(),e.TgZ(6,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeView("user-new")}),e.TgZ(7,"mat-icon"),e._uU(8,"person_add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.YNc(10,J,2,4,"div",31),e.TgZ(11,"div",32),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Filtro"),e.qZA(),e.TgZ(15,"input",33,34),e.NdJ("keyup",function(s){return e.CHM(t),e.oxw().applyFilterUser(s)}),e.qZA(),e.qZA(),e.TgZ(17,"span",35),e._uU(18),e.ALo(19,"number"),e.qZA(),e.qZA(),e.TgZ(20,"div",36),e.TgZ(21,"div",37),e.TgZ(22,"table",38),e.ynx(23,39),e.YNc(24,E,2,0,"th",40),e.YNc(25,L,2,1,"td",41),e.BQk(),e.ynx(26,42),e.YNc(27,Q,2,0,"th",40),e.YNc(28,Y,2,1,"td",41),e.BQk(),e.ynx(29,43),e.YNc(30,H,2,0,"th",40),e.YNc(31,F,2,1,"td",41),e.BQk(),e.ynx(32,44),e.YNc(33,I,2,0,"th",40),e.YNc(34,S,2,1,"td",41),e.BQk(),e.ynx(35,45),e.YNc(36,D,2,0,"th",40),e.YNc(37,V,2,1,"td",41),e.BQk(),e.ynx(38,46),e.YNc(39,j,2,0,"th",40),e.YNc(40,$,2,1,"td",41),e.BQk(),e.ynx(41,47),e.YNc(42,G,2,0,"th",40),e.YNc(43,B,2,1,"td",41),e.BQk(),e.ynx(44,48),e.YNc(45,z,2,0,"th",40),e.YNc(46,K,7,0,"td",49),e.BQk(),e.YNc(47,X,1,0,"tr",50),e.YNc(48,W,1,0,"tr",51),e.YNc(49,ne,4,2,"tr",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",t.showResult),e.xp6(8),e.hij(" Total de usuarios: ",e.xi3(19,6,t.usuarios.data.length,"1.0-0")," "),e.xp6(4),e.Q6J("dataSource",t.usuarios),e.xp6(25),e.Q6J("matHeaderRowDef",t.userColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.userColumns)}}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"mat-icon"),e._uU(2,"person_add"),e.qZA(),e.TgZ(3,"span",29),e._uU(4," Crear nuevo usuario "),e.qZA(),e.TgZ(5,"button",78),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveUser()}),e.TgZ(6,"mat-icon"),e._uU(7,"save"),e.qZA(),e.qZA(),e.TgZ(8,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeView("user-list")}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.qZA(),e.qZA()}}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span",29),e._uU(4," Editar usuario "),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveUser()}),e.TgZ(6,"mat-icon"),e._uU(7,"save"),e.qZA(),e.qZA(),e.TgZ(8,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeView("user-list")}),e.TgZ(9,"mat-icon"),e._uU(10,"person"),e.qZA(),e.qZA(),e.qZA()}}function ae(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function re(n,o){if(1&n&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.idRol),e.xp6(1),e.hij(" ",t.rolName," ")}}function le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,oe,11,0,"div",65),e.YNc(2,se,11,0,"div",65),e.TgZ(3,"div"),e.YNc(4,ae,2,4,"div",31),e.TgZ(5,"mat-grid-list",66),e.TgZ(6,"mat-grid-tile",67),e.TgZ(7,"mat-form-field"),e.TgZ(8,"mat-label"),e._uU(9,"Apellido"),e.qZA(),e.TgZ(10,"input",68),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.surname=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"mat-grid-tile",67),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"input",69),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.givenname=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"mat-grid-tile",67),e.TgZ(17,"mat-form-field"),e.TgZ(18,"mat-label"),e._uU(19,"Compa\xf1ia"),e.qZA(),e.TgZ(20,"input",70),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.company=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"mat-grid-tile",67),e.TgZ(22,"mat-form-field"),e.TgZ(23,"mat-label"),e._uU(24,"Puesto"),e.qZA(),e.TgZ(25,"input",71),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.job=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"mat-grid-tile",67),e.TgZ(27,"select",72),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.idRol=s}),e.TgZ(28,"option",73),e._uU(29,"Rol"),e.qZA(),e.YNc(30,re,2,2,"option",74),e.qZA(),e.qZA(),e.TgZ(31,"mat-grid-tile",67),e.TgZ(32,"mat-label"),e._uU(33,"Administrador"),e.qZA(),e.TgZ(34,"mat-checkbox",75),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.isAdmin=s}),e.qZA(),e.qZA(),e.TgZ(35,"mat-grid-tile",67),e.TgZ(36,"mat-form-field"),e.TgZ(37,"mat-label"),e._uU(38,"Nombre de usuario"),e.qZA(),e.TgZ(39,"input",76),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.username=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"mat-grid-tile",67),e.TgZ(41,"mat-form-field"),e.TgZ(42,"mat-label"),e._uU(43,"Contrase\xf1a"),e.qZA(),e.TgZ(44,"input",77),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionUser.password=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"mat-grid-tile",67),e.TgZ(46,"mat-form-field"),e.TgZ(47,"mat-label"),e._uU(48,"Confirme contrase\xf1a"),e.qZA(),e.TgZ(49,"input",77),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().confirmPassword=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","user-new"===t.view),e.xp6(1),e.Q6J("ngIf","user-edition"===t.view),e.xp6(2),e.Q6J("ngIf",t.showResult),e.xp6(6),e.Q6J("ngModel",t.newEditionUser.surname),e.xp6(5),e.Q6J("ngModel",t.newEditionUser.givenname),e.xp6(5),e.Q6J("ngModel",t.newEditionUser.company),e.xp6(5),e.Q6J("ngModel",t.newEditionUser.job),e.xp6(2),e.Q6J("ngModel",t.newEditionUser.idRol),e.xp6(3),e.Q6J("ngForOf",t.rol),e.xp6(4),e.Q6J("checked",t.newEditionUser.isAdmin)("ngModel",t.newEditionUser.isAdmin),e.xp6(5),e.Q6J("ngModel",t.newEditionUser.username),e.xp6(5),e.Q6J("ngModel",t.newEditionUser.password),e.xp6(5),e.Q6J("ngModel",t.confirmPassword)}}function ce(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function de(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Nombre rol"),e.qZA())}function ue(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.rolName)}}function _e(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Acciones"),e.qZA())}function me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",85),e.TgZ(1,"button",86),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).watchPermissionLayer(a)}),e.TgZ(2,"mat-icon"),e._uU(3,"layers"),e.qZA(),e.qZA(),e.TgZ(4,"button",87),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).watchPermissionTool(a)}),e.TgZ(5,"mat-icon"),e._uU(6,"settings"),e.qZA(),e.qZA(),e.TgZ(7,"button",88),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).rolEdition(a)}),e.TgZ(8,"mat-icon"),e._uU(9,"create"),e.qZA(),e.qZA(),e.TgZ(10,"button",89),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).rolDelete(a)}),e.TgZ(11,"mat-icon"),e._uU(12,"delete_forever"),e.qZA(),e.qZA(),e.qZA()}}function ge(n,o){1&n&&e._UZ(0,"tr",59)}function pe(n,o){1&n&&e._UZ(0,"tr",60)}function he(n,o){if(1&n&&(e.TgZ(0,"td",91),e._uU(1),e.qZA()),2&n){e.oxw(2);const t=e.MAs(16);e.xp6(1),e.hij('No se encontraron roles con el filtro "',t.value,'"')}}function fe(n,o){1&n&&(e.TgZ(0,"td",91),e._uU(1," No se han obtenido roles "),e.qZA())}function Ze(n,o){if(1&n&&(e.TgZ(0,"tr",61),e.YNc(1,he,2,1,"td",90),e.YNc(2,fe,2,0,"ng-template",null,63,e.W1O),e.qZA()),2&n){const t=e.MAs(3);e.oxw();const i=e.MAs(16);e.xp6(1),e.Q6J("ngIf",""!==i.value)("ngIfElse",t)}}function Ce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",28),e.TgZ(2,"mat-icon"),e._uU(3,"assignment_ind"),e.qZA(),e.TgZ(4,"span",29),e._uU(5," Lista de roles "),e.qZA(),e.TgZ(6,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeView("rol-new")}),e.TgZ(7,"mat-icon"),e._uU(8,"group"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div"),e.YNc(10,ce,2,4,"div",31),e.TgZ(11,"div",32),e.TgZ(12,"mat-form-field"),e.TgZ(13,"mat-label"),e._uU(14,"Filtro"),e.qZA(),e.TgZ(15,"input",33,83),e.NdJ("keyup",function(s){return e.CHM(t),e.oxw().applyFilterRol(s)}),e.qZA(),e.qZA(),e.TgZ(17,"span",35),e._uU(18),e.ALo(19,"number"),e.qZA(),e.qZA(),e.TgZ(20,"div",36),e.TgZ(21,"div",37),e.TgZ(22,"table",38),e.ynx(23,43),e.YNc(24,de,2,0,"th",40),e.YNc(25,ue,2,1,"td",41),e.BQk(),e.ynx(26,48),e.YNc(27,_e,2,0,"th",40),e.YNc(28,me,13,0,"td",84),e.BQk(),e.YNc(29,ge,1,0,"tr",50),e.YNc(30,pe,1,0,"tr",51),e.YNc(31,Ze,4,2,"tr",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",t.showResult),e.xp6(8),e.hij(" Total de roles: ",e.xi3(19,6,t.roles.data.length,"1.0-0")," "),e.xp6(4),e.Q6J("dataSource",t.roles),e.xp6(7),e.Q6J("matHeaderRowDef",t.rolColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.rolColumns)}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"mat-icon"),e._uU(2,"assignment_ind"),e.qZA(),e.TgZ(3,"span",29),e._uU(4," Crear nuevo rol "),e.qZA(),e.TgZ(5,"button",94),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveRol()}),e.TgZ(6,"mat-icon"),e._uU(7,"save"),e.qZA(),e.qZA(),e.TgZ(8,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeView("rol-list")}),e.TgZ(9,"mat-icon"),e._uU(10,"assignment_ind"),e.qZA(),e.qZA(),e.qZA()}}function xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span",29),e._uU(4," Editar rol "),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveRol()}),e.TgZ(6,"mat-icon"),e._uU(7,"save"),e.qZA(),e.qZA(),e.TgZ(8,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changeView("rol-list")}),e.TgZ(9,"mat-icon"),e._uU(10,"assignment_ind"),e.qZA(),e.qZA(),e.qZA()}}function Pe(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Ae,11,0,"div",65),e.YNc(2,xe,11,0,"div",65),e.TgZ(3,"div"),e.YNc(4,Pe,2,4,"div",31),e.TgZ(5,"mat-grid-list",92),e.TgZ(6,"mat-grid-tile",67),e.TgZ(7,"mat-form-field"),e.TgZ(8,"mat-label"),e._uU(9,"Nombre del rol"),e.qZA(),e.TgZ(10,"input",93),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newEditionCurrentRol.rolName=s}),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"mat-grid-tile",67),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","rol-new"===t.view),e.xp6(1),e.Q6J("ngIf","rol-edition"===t.view),e.xp6(2),e.Q6J("ngIf",t.showResult),e.xp6(6),e.Q6J("ngModel",t.newEditionCurrentRol.rolName)}}function ve(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function we(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.TgZ(1,"span",103),e._uU(2),e.qZA(),e.TgZ(3,"span",103),e._uU(4),e.qZA(),e.TgZ(5,"mat-slide-toggle",104),e.NdJ("change",function(){const a=e.CHM(t).$implicit;return a.hasPermission=!a.hasPermission}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.capa," "),e.xp6(2),e.hij(" ",t.service," "),e.xp6(1),e.Q6J("checked",t.hasPermission)}}function Me(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,we,6,3,"div",101),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.tocLayers)}}function be(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",98),e.TgZ(2,"mat-card-header",99),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return a.status=!a.status}),e.TgZ(3,"mat-card-title",100),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"mat-card-content"),e.YNc(6,Me,2,1,"div",24),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(4),e.AsE("",t.group," (",t.tocLayers.length,")"),e.xp6(2),e.Q6J("ngIf",t.status)}}function qe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",28),e.TgZ(2,"mat-icon"),e._uU(3,"layers"),e.qZA(),e.TgZ(4,"span",29),e._uU(5),e.qZA(),e.TgZ(6,"button",96),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveLayersPermission()}),e.TgZ(7,"mat-icon"),e._uU(8,"save"),e.qZA(),e.qZA(),e.TgZ(9,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeView("rol-list")}),e.TgZ(10,"mat-icon"),e._uU(11,"assignment_ind"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div"),e.YNc(13,ve,2,4,"div",31),e.YNc(14,be,7,3,"div",97),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" Permisos a capas rol: ",t.newEditionCurrentRol.rolName," "),e.xp6(8),e.Q6J("ngIf",t.showResult),e.xp6(1),e.Q6J("ngForOf",t.tocGroup)}}function Ue(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.TgZ(1,"span",106),e._uU(2),e.qZA(),e.TgZ(3,"span",103),e._uU(4),e.qZA(),e.TgZ(5,"mat-slide-toggle",104),e.NdJ("change",function(){const a=e.CHM(t).$implicit;return a.hasPermission=!a.hasPermission}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(1),e.Q6J("checked",t.hasPermission)}}function Oe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ne,6,3,"div",101),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.tools)}}function ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-card",98),e.TgZ(2,"mat-card-header",99),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return a.status=!a.status}),e.TgZ(3,"mat-card-title",100),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"mat-card-content"),e.YNc(6,Oe,2,1,"div",24),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(4),e.AsE("",t.group," (",t.tools.length,")"),e.xp6(2),e.Q6J("ngIf",t.status)}}function Re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",28),e.TgZ(2,"mat-icon"),e._uU(3,"settings"),e.qZA(),e.TgZ(4,"span",29),e._uU(5),e.qZA(),e.TgZ(6,"button",105),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveToolsPermission()}),e.TgZ(7,"mat-icon"),e._uU(8,"save"),e.qZA(),e.qZA(),e.TgZ(9,"button",95),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeView("rol-list")}),e.TgZ(10,"mat-icon"),e._uU(11,"assignment_ind"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div"),e.YNc(13,Ue,2,4,"div",31),e.YNc(14,ke,7,3,"div",97),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" Permisos a herramientas rol: ",t.newEditionCurrentRol.rolName," "),e.xp6(8),e.Q6J("ngIf",t.showResult),e.xp6(1),e.Q6J("ngForOf",t.toolGroup)}}function ye(n,o){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,u,t.resultCorrect)),e.xp6(1),e.hij(" ",t.resultMessage," ")}}function Je(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Nombre"),e.qZA())}function Ee(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.parameterName)}}function Le(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Descripci\xf3n"),e.qZA())}function Qe(n,o){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.description)}}function Ye(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Valor"),e.qZA())}function He(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",55),e.TgZ(1,"input",111),e.NdJ("ngModelChange",function(s){return e.CHM(t).$implicit.value=s}),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngModel",t.value)}}function Fe(n,o){1&n&&(e.TgZ(0,"th",54),e._uU(1,"Acciones"),e.qZA())}function Ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",112),e.TgZ(1,"button",113),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).saveParam(a)}),e.TgZ(2,"mat-icon"),e._uU(3,"save"),e.qZA(),e.qZA(),e.qZA()}}function Se(n,o){1&n&&e._UZ(0,"tr",59)}function De(n,o){1&n&&e._UZ(0,"tr",60)}function Ve(n,o){1&n&&(e.TgZ(0,"tr",61),e.TgZ(1,"td",114),e._uU(2," No se han obtenido par\xe1metros de configuraci\xf3n "),e.qZA(),e.qZA())}function je(n,o){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"div",28),e.TgZ(2,"mat-icon"),e._uU(3,"speaker_notes"),e.qZA(),e.TgZ(4,"span",29),e._uU(5," Lista de par\xe1metros "),e.qZA(),e._UZ(6,"button",107),e.qZA(),e.TgZ(7,"div"),e.YNc(8,ye,2,4,"div",31),e._UZ(9,"br"),e.TgZ(10,"div",36),e.TgZ(11,"div",37),e.TgZ(12,"table",38),e.ynx(13,42),e.YNc(14,Je,2,0,"th",40),e.YNc(15,Ee,2,1,"td",41),e.BQk(),e.ynx(16,108),e.YNc(17,Le,2,0,"th",40),e.YNc(18,Qe,2,1,"td",41),e.BQk(),e.ynx(19,109),e.YNc(20,Ye,2,0,"th",40),e.YNc(21,He,2,1,"td",41),e.BQk(),e.ynx(22,48),e.YNc(23,Fe,2,0,"th",40),e.YNc(24,Ie,4,0,"td",110),e.BQk(),e.YNc(25,Se,1,0,"tr",50),e.YNc(26,De,1,0,"tr",51),e.YNc(27,Ve,3,0,"tr",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.showResult),e.xp6(4),e.Q6J("dataSource",t.params),e.xp6(13),e.Q6J("matHeaderRowDef",t.paramColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.paramColumns)}}const $e=[{path:"",component:(()=>{class n{constructor(t,i,s,a,r){this.router=t,this.authService=i,this.userService=s,this.tocService=a,this.dialog=r,this.confirmPassword="",this.newEditionUser={idUser:"",username:"",password:"",createdAt:null,idRol:"",rol:"",isAdmin:!1,givenname:"",surname:"",company:"",job:""},this.newEditionCurrentRol={idRol:"",rolName:""},this.view="user-list",this.backdropMessage="...",this.showLoading=!1,this.showResult=!1,this.resultCorrect=!0,this.resultMessage="",this.rol=[],this.usuarios=new c.by([]),this.userColumns=["apellido","nombre","rol","username","company","job","createdDate","actions"],this.roles=new c.by([]),this.rolColumns=["rol","actions"],this.tocGroup=[],this.permissionLayers=[],this.toolGroup=[],this.permissionTools=[],this.params=new c.by([]),this.paramColumns=["nombre","descripcion","valor","actions"]}ngOnInit(){this.user=this.authService.getUser(),this.user.IsAdmin?(this.backdropMessage="Cargando usuarios...",this.showLoading=!0,this.userService.getUsers().subscribe(t=>{this.usuarios.data=t,this.showLoading=!1})):this.router.navigate(["/map"])}openMap(){this.router.navigate(["/map"])}selectedTab(t){-1!==t.index&&this.changeView(1===t.index?"rol-list":2===t.index?"param-list":"user-list")}applyFilterUser(t){this.usuarios.filter=t.target.value.trim().toLowerCase()}applyFilterRol(t){this.roles.filter=t.target.value.trim().toLowerCase()}changeView(t){switch(this.view=t,this.showResult=!1,this.view){case"user-new":this.confirmPassword="",this.newEditionUser={idUser:"",username:"",password:"",createdAt:null,idRol:"",rol:"",isAdmin:!1,givenname:"",surname:"",company:"",job:""},this.userService.getRols().subscribe(i=>{this.rol=i});break;case"user-edition":this.userService.getRols().subscribe(i=>{this.rol=i});break;case"user-list":this.backdropMessage="Cargando usuarios...",this.showLoading=!0,this.userService.getUsers().subscribe(i=>{this.usuarios.data=i,this.usuarios.filter="",this.showLoading=!1});break;case"rol-list":this.backdropMessage="Cargando roles...",this.showLoading=!0,this.userService.getRols().subscribe(i=>{this.roles.data=i,this.roles.filter="",this.showLoading=!1});break;case"rol-new":this.newEditionCurrentRol={idRol:"",rolName:""};break;case"rol-edition":break;case"permission-layer":this.backdropMessage="Cargando capas...",this.showLoading=!0,this.tocService.getLayers().subscribe(i=>{this.tocGroup=i,this.tocService.getLayersByRol(this.newEditionCurrentRol.idRol).subscribe(s=>{s.map(a=>{const r=this.tocGroup.findIndex(_=>_.idTocGroup===a.idTocGroup);r>=0&&a.tocLayers.map(_=>{const p=this.tocGroup[r].tocLayers.findIndex(Z=>Z.idLayer===_.idLayer);p>=0&&(this.tocGroup[r].tocLayers[p].hasPermission=!0)})}),this.showLoading=!1})});break;case"permission-tool":this.backdropMessage="Cargando herramientas...",this.showLoading=!0,this.userService.getTools().subscribe(i=>{this.toolGroup=i,this.userService.getToolsByRol(this.newEditionCurrentRol.idRol).subscribe(s=>{s.map(a=>{const r=this.toolGroup.findIndex(_=>_.group===a.group);r>=0&&a.tools.map(_=>{const p=this.toolGroup[r].tools.findIndex(Z=>Z.idTool===_.idTool);p>=0&&(this.toolGroup[r].tools[p].hasPermission=!0)})}),this.showLoading=!1})});break;case"param-list":this.backdropMessage="Cargando par\xe1metros...",this.showLoading=!0,this.userService.getParams().subscribe(i=>{this.params.data=i,this.showLoading=!1});break;default:console.log("No disponible")}}getFormatDate(t){return(0,w.L)(new Date(t))}userEdition(t){this.changeView("user-edition"),this.confirmPassword="*****",this.newEditionUser={idUser:t.idUser,username:t.username,password:"*****",createdAt:t.createdAt,idRol:t.idRol,rol:t.rol,isAdmin:t.isAdmin,givenname:t.givenname,surname:t.surname,company:t.company,job:t.job}}saveUser(){this.backdropMessage="Guardando usuario...",this.showLoading=!0,"user-edition"===this.view?""!==this.newEditionUser.givenname?""!==this.newEditionUser.idRol?""!==this.newEditionUser.username?""!==this.newEditionUser.password&&""!==this.confirmPassword?this.newEditionUser.password===this.confirmPassword?("*****"!==this.confirmPassword&&(this.newEditionUser.password=this.authService.hashPassword(this.confirmPassword)),this.userService.updateUser(this.newEditionUser).subscribe(t=>{this.resultCorrect=!0,this.resultMessage="Usuario editado correctamente",this.confirmPassword="*****",this.newEditionUser.password="*****",this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1})):(this.resultCorrect=!1,this.resultMessage="Las contrase\xf1as no coinciden",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere la contrase\xf1a y su confirmaci\xf3n",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere un nombre de usuario",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere elegir un rol",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere el campo nombre",this.showResult=!0,this.showLoading=!1):""!==this.newEditionUser.givenname?""!==this.newEditionUser.idRol?""!==this.newEditionUser.username?""!==this.newEditionUser.password&&""!==this.confirmPassword?this.newEditionUser.password===this.confirmPassword?(this.newEditionUser.password=this.authService.hashPassword(this.confirmPassword),this.userService.createUser(this.newEditionUser).subscribe(t=>{this.resultCorrect=!0,this.resultMessage="Usuario guardado correctamente",this.confirmPassword="",this.newEditionUser.password="",this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1})):(this.resultCorrect=!1,this.resultMessage="Las contrase\xf1as no coinciden",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere la contrase\xf1a y su confirmaci\xf3n",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere un nombre de usuario",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere elegir un rol",this.showResult=!0,this.showLoading=!1):(this.resultCorrect=!1,this.resultMessage="Se requiere el campo nombre",this.showResult=!0,this.showLoading=!1)}userDelete(t){this.dialog.open(x,{data:{title:`Eliminar usuario ${t.username}`,question:"\xbfEst\xe1 seguro que desea eliminar el usuario?",answerNo:"No",answerYes:"Si"},width:"300px"}).afterClosed().subscribe(a=>{a&&(this.backdropMessage="Borrando usuario...",this.showLoading=!0,this.userService.deleteUser(t.idUser).subscribe(r=>{r?(this.resultCorrect=!0,this.resultMessage="Usuario eliminado correctamente",this.showResult=!0,this.showLoading=!1,this.changeView("user-list")):(this.resultCorrect=!1,this.resultMessage="No se pudo eliminar usuario",this.showResult=!0,this.showLoading=!1)},r=>{console.log(r),this.resultCorrect=!1,this.resultMessage="Error al eliminar usuario",this.showResult=!0,this.showLoading=!1}))})}rolEdition(t){this.changeView("rol-edition"),this.newEditionCurrentRol=t}saveRol(){this.backdropMessage="Guardando rol...",this.showLoading=!0,"rol-edition"===this.view?""!==this.newEditionCurrentRol.rolName?this.userService.updateRol(this.newEditionCurrentRol).subscribe(t=>{this.resultCorrect=!0,this.resultMessage="Rol editado correctamente",this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1}):(this.resultCorrect=!1,this.resultMessage="Se necesita el nombre del rol",this.showResult=!0,this.showLoading=!1):""!==this.newEditionCurrentRol.rolName?this.userService.createRol(this.newEditionCurrentRol).subscribe(t=>{this.resultCorrect=!0,this.resultMessage="Rol guardado correctamente",this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1}):(this.resultCorrect=!1,this.resultMessage="Se necesita el nombre del rol",this.showResult=!0,this.showLoading=!1)}rolDelete(t){this.dialog.open(x,{data:{title:`Eliminar rol ${t.rolName}`,question:"\xbfEst\xe1 seguro que desea eliminar el rol?",answerNo:"No",answerYes:"Si"},width:"300px"}).afterClosed().subscribe(a=>{a&&(this.backdropMessage="Borrando rol...",this.showLoading=!0,this.userService.deleteRol(t.idRol).subscribe(r=>{r?(this.resultCorrect=!0,this.resultMessage="Rol eliminado correctamente",this.showResult=!0,this.showLoading=!1,this.changeView("rol-list")):(this.resultCorrect=!1,this.resultMessage="No se pudo eliminar rol",this.showResult=!0,this.showLoading=!1)},r=>{console.log(r),this.resultCorrect=!1,this.resultMessage="Error al eliminar rol",this.showResult=!0,this.showLoading=!1}))})}watchPermissionLayer(t){this.newEditionCurrentRol={idRol:t.idRol,rolName:t.rolName},this.changeView("permission-layer")}watchPermissionTool(t){this.newEditionCurrentRol={idRol:t.idRol,rolName:t.rolName},this.changeView("permission-tool")}saveLayersPermission(){this.backdropMessage="Guardando permisos de capas...",this.showLoading=!0,this.permissionLayers=[],this.tocGroup.map(t=>{t.tocLayers.map(i=>{i.hasPermission&&this.permissionLayers.push(i)})}),this.tocService.updateLayerPermissions(this.newEditionCurrentRol.idRol,this.permissionLayers).subscribe(t=>{t?(this.resultCorrect=!0,this.resultMessage="Permisos de capas guardados correctamente"):(this.resultCorrect=!1,this.resultMessage="Error al guardar permisos de capas"),this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1})}saveToolsPermission(){this.backdropMessage="Guardando permisos de herramientas...",this.showLoading=!0,this.permissionTools=[],this.toolGroup.map(t=>{t.tools.map(i=>{i.hasPermission&&this.permissionTools.push(i)})}),this.userService.updateToolPermissions(this.newEditionCurrentRol.idRol,this.permissionTools).subscribe(t=>{t?(this.resultCorrect=!0,this.resultMessage="Permisos de herramientas guardados correctamente"):(this.resultCorrect=!1,this.resultMessage="Error al guardar permisos de herramientas"),this.showResult=!0,this.showLoading=!1},t=>{this.resultCorrect=!1,this.resultMessage=t,this.showResult=!0,this.showLoading=!1})}saveParam(t){this.backdropMessage="Guardando cambios...",this.showLoading=!0,this.userService.updateParam(t).subscribe(i=>{i?(this.resultCorrect=!0,this.resultMessage=`Cambios en el par\xe1metro ${t.parameterName} guardados correctamente`):(this.resultCorrect=!1,this.resultMessage=`Error al guardar cambios en el par\xe1metro ${t.parameterName}`),this.showResult=!0,this.showLoading=!1},i=>{this.resultCorrect=!1,this.resultMessage=i,this.showResult=!0,this.showLoading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.F0),e.Y36(M.e),e.Y36(b.K),e.Y36(q.I),e.Y36(m.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sic-admin-panel-page"]],decls:46,vars:11,consts:[["role","main"],[1,"fixed-top"],[1,"data-container"],[1,"user-container"],[1,"user-data"],[1,"user-name"],[1,"user-company"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 43.5 49.75"],["id","Capa_2","data-name","Capa 2"],["id","Capa_1-2","data-name","Capa 1"],["d","M32.53,7.56h0a.28.28,0,0,0-.06-.15A11.47,11.47,0,0,0,21.75,0a11.15,11.15,0,0,0-6.07,1.76.39.39,0,0,0-.11.06A11.27,11.27,0,0,0,11,7.61a.35.35,0,0,0-.06.14s0,.07,0,.1a10.79,10.79,0,0,0-.62,3.64,11.5,11.5,0,1,0,23,0A10.82,10.82,0,0,0,32.53,7.56ZM21.75,21.62A10.11,10.11,0,0,1,12.09,8.46a5.76,5.76,0,0,0,1.2.11c2.13,0,4.71-.83,5.91-2.69a18.06,18.06,0,0,0,9.42,2.54,17.53,17.53,0,0,0,2.7-.2,9.84,9.84,0,0,1,.55,3.27A10.13,10.13,0,0,1,21.75,21.62Z",1,"cls-1"],["d","M33.75,24.25h-24A9.76,9.76,0,0,0,0,34V49.75H43.5V34A9.76,9.76,0,0,0,33.75,24.25Zm-5.6,1.5-1,3.2-2.26-3.2Zm-9.53,0L16.36,29l-1-3.2Zm4.06,22.5H10.5V34H9V48.25H1.5V34a8.26,8.26,0,0,1,8.25-8.25h4l2.08,6.53,4.61-6.53h2.22Zm19.32,0H34.5V34H33V48.25H24.18V27.36l3.47,4.92,2.08-6.53h4A8.26,8.26,0,0,1,42,34Z",1,"cls-1"],["cx","20.82","cy","27.81","r","0.75",1,"cls-1"],["cx","20.82","cy","33.25","r","0.75",1,"cls-1"],["cx","20.82","cy","38.69","r","0.75",1,"cls-1"],["cx","20.82","cy","44.14","r","0.75",1,"cls-1"],["mat-flat-button","","color","primary",3,"click"],[1,"logo"],["src","./assets/icons/logo_mzo.png","alt","logo"],[1,"admin-panel-container"],[1,"admin-panel-content"],[3,"selectedTabChange"],["label","Usuarios"],[4,"ngIf"],["label","Roles"],["label","Par\xe1metros"],[3,"backdropMessage","showingLoading"],[1,"section-content"],[1,"flex-blank-filler"],["mat-icon-button","","title","Crear nuevo usuario",3,"click"],["class","result-container",3,"ngClass",4,"ngIf"],[1,"filter-container"],["matInput","","placeholder","Filtro",3,"keyup"],["inputUser",""],[1,"total-info"],[1,"mat-elevation-z8"],[1,"data-table"],["mat-table","",3,"dataSource"],["matColumnDef","apellido"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","rol"],["matColumnDef","username"],["matColumnDef","company"],["matColumnDef","job"],["matColumnDef","createdDate"],["matColumnDef","actions"],["mat-cell","","colspan","2","class","action-button",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","row-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"result-container",3,"ngClass"],["mat-header-cell",""],["mat-cell",""],["mat-cell","","colspan","2",1,"action-button"],["mat-icon-button","","color","primary","matTooltip","Editar usuario seleccionado",3,"click"],["mat-icon-button","","color","primary","matTooltip","Eliminar usuario seleccionado",3,"click"],["mat-header-row",""],["mat-row","",1,"row-pointer"],[1,"mat-row"],["class","mat-cell","colspan","8",4,"ngIf","ngIfElse"],["noData",""],["colspan","8",1,"mat-cell"],["class","section-content",4,"ngIf"],["cols","6","rowHeight","60px"],["colspan","2"],["matInput","","placeholder","Apellido",3,"ngModel","ngModelChange"],["matInput","","placeholder","Nombre",3,"ngModel","ngModelChange"],["matInput","","placeholder","Compa\xf1ia",3,"ngModel","ngModelChange"],["matInput","","placeholder","Puesto",3,"ngModel","ngModelChange"],["name","selectRol",3,"ngModel","ngModelChange"],["selected","","disabled","","value",""],[3,"ngValue",4,"ngFor","ngForOf"],["matTooltip","Es un usuario administrador",3,"checked","ngModel","ngModelChange"],["matInput","","placeholder","Nombre de usuario",3,"ngModel","ngModelChange"],["type","password","matInput","","placeholder","Contrase\xf1a",3,"ngModel","ngModelChange"],["mat-icon-button","","title","Guardar nuevo usuario",3,"click"],["mat-icon-button","","title","Lista de usuarios",3,"click"],["mat-icon-button","","title","Guardar cambios",3,"click"],[3,"ngValue"],["mat-icon-button","","title","Crear nuevo rol",3,"click"],["inputRol",""],["mat-cell","","colspan","4","class","action-button",4,"matCellDef"],["mat-cell","","colspan","4",1,"action-button"],["mat-icon-button","","color","primary","matTooltip","Permisos capas",3,"click"],["mat-icon-button","","color","primary","matTooltip","Permisos herramientas",3,"click"],["mat-icon-button","","color","primary","matTooltip","Editar rol seleccionado",3,"click"],["mat-icon-button","","color","primary","matTooltip","Eliminar rol seleccionado",3,"click"],["class","mat-cell","colspan","2",4,"ngIf","ngIfElse"],["colspan","2",1,"mat-cell"],["cols","4","rowHeight","60px"],["matInput","","placeholder","Nombre del rol",3,"ngModel","ngModelChange"],["mat-icon-button","","title","Guardar nuevo rol",3,"click"],["mat-icon-button","","title","Lista de roles",3,"click"],["mat-icon-button","","title","Guardar cambios de permisos de capas",3,"click"],[4,"ngFor","ngForOf"],[1,"clickable"],[1,"item-card",3,"click"],[1,"title"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"layer-label"],[3,"checked","change"],["mat-icon-button","","title","Guardar cambios de permisos de herramientas",3,"click"],[1,"tool-label"],["mat-icon-button","","disabled","true"],["matColumnDef","descripcion"],["matColumnDef","valor"],["mat-cell","","class","action-button",4,"matCellDef"],["type","number",3,"ngModel","ngModelChange"],["mat-cell","",1,"action-button"],["mat-icon-button","","color","primary","matTooltip","Guardar cambios",3,"click"],["colspan","3",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"header",1),e.TgZ(2,"h2"),e._uU(3," PANEL DE ADMINISTRACI\xd3N "),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.O4$(),e.TgZ(12,"svg",8),e.TgZ(13,"defs"),e.TgZ(14,"style"),e._uU(15," .cls-1 { fill: #222220; } "),e.qZA(),e.qZA(),e.TgZ(16,"title"),e._uU(17,"user"),e.qZA(),e.TgZ(18,"g",9),e.TgZ(19,"g",10),e._UZ(20,"path",11),e._UZ(21,"path",12),e._UZ(22,"circle",13),e._UZ(23,"circle",14),e._UZ(24,"circle",15),e._UZ(25,"circle",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(26,"button",17),e.NdJ("click",function(){return i.openMap()}),e.TgZ(27,"mat-icon"),e._uU(28," map"),e.qZA(),e._uU(29," Volver al mapa "),e.qZA(),e.qZA(),e.TgZ(30,"div",18),e._UZ(31,"img",19),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"div",21),e.TgZ(34,"mat-tab-group",22),e.NdJ("selectedTabChange",function(a){return i.selectedTab(a)}),e.TgZ(35,"mat-tab",23),e.YNc(36,ie,50,9,"div",24),e.YNc(37,le,50,14,"div",24),e.qZA(),e.TgZ(38,"mat-tab",25),e.YNc(39,Ce,32,9,"div",24),e.YNc(40,Te,12,4,"div",24),e.YNc(41,qe,15,3,"div",24),e.YNc(42,Re,15,3,"div",24),e.qZA(),e.TgZ(43,"mat-tab",26),e.YNc(44,je,28,5,"div",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(45,"sic-backdrop",27)),2&t&&(e.xp6(8),e.hij(" ",i.user.FullName," "),e.xp6(2),e.hij(" ",i.user.Company," "),e.xp6(26),e.Q6J("ngIf","user-list"===i.view),e.xp6(1),e.Q6J("ngIf","user-new"===i.view||"user-edition"===i.view),e.xp6(2),e.Q6J("ngIf","rol-list"===i.view),e.xp6(1),e.Q6J("ngIf","rol-new"===i.view||"rol-edition"===i.view),e.xp6(1),e.Q6J("ngIf","permission-layer"===i.view),e.xp6(1),e.Q6J("ngIf","permission-tool"===i.view),e.xp6(2),e.Q6J("ngIf","param-list"===i.view),e.xp6(1),e.Q6J("backdropMessage",i.backdropMessage)("showingLoading",i.showLoading))},directives:[A.lW,U.Hw,P.SP,P.uX,g.O5,N.q,T.KE,T.hX,O.Nt,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,c.Ee,g.mk,c.ge,c.ev,k.gM,c.XQ,c.Gk,v.Il,v.DX,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,g.sg,R.oG,h.a8,h.dk,h.n5,h.dn,y.Rr,d.wV],pipes:[g.JJ],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0}header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;box-shadow:0 .125rem .25rem #0000001c;padding:.5rem 1rem;background-color:#fff}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:40%;width:100%}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:36%;width:100%}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:700}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .user-data[_ngcontent-%COMP%]   .user-company[_ngcontent-%COMP%]{font-size:smaller}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:16px}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:36px}header[_ngcontent-%COMP%]   .data-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:22%;width:100%;flex-direction:row-reverse;display:flex;flex:1}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:126px}.fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030}.admin-panel-container[_ngcontent-%COMP%]{margin:150px 42px 42px}.admin-panel-container[_ngcontent-%COMP%]   .admin-panel-content[_ngcontent-%COMP%]{max-height:33vw;overflow:auto}.section-content[_ngcontent-%COMP%]{background:#b51e1c;color:#fff;font-size:12pt;font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:4px;margin:8px 2px 0;padding:4px}.flex-blank-filler[_ngcontent-%COMP%]{flex:1 1 auto;margin-left:16px}.filter-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:4px;margin:0 16px}.filter-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:50%}.filter-container[_ngcontent-%COMP%]   .total-info[_ngcontent-%COMP%]{flex:50%;text-align:end;font-weight:700}.data-table[_ngcontent-%COMP%]{height:18vw;overflow:auto}.data-table[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{height:16px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:32px}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;color:#495057;border:1px solid #ced4da;border-radius:4px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border-color:#b51e1c;box-shadow:0 0 0 .2rem #b51e1c40}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{font-size:10pt;font-weight:800;color:#000}table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{font-size:10pt}table[_ngcontent-%COMP%]   tr.row-pointer[_ngcontent-%COMP%]:hover{background:whitesmoke}table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}mat-grid-list[_ngcontent-%COMP%]{margin:12px}mat-grid-list[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{text-align:center;width:90%;max-height:42px}mat-grid-list[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{padding:0 20px}mat-grid-list[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;font-size:15px;font-weight:400;line-height:1.5;color:#495057;border:1px solid #ced4da;border-radius:4px;width:90%;margin:4px;height:80%;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}mat-grid-list[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border-color:#e4b346;box-shadow:0 0 0 .2rem #9d444440}.result-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;padding:6px;font-weight:700;color:#d32f2f;background-color:#d32f2f1a;border:1px solid rgba(211,47,47,.1)}.result-container.correct[_ngcontent-%COMP%]{color:#235223;background-color:#daebda;border:1px solid #cbe4cb}mat-card[_ngcontent-%COMP%]{padding:8px}.item-card[_ngcontent-%COMP%]{padding:8px}.item-card[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.item-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px!important}.item[_ngcontent-%COMP%]{width:100%;padding:7px 15px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#0000001f}.item[_ngcontent-%COMP%]   .layer-label[_ngcontent-%COMP%]{flex:1;padding:0 0 0 20px}.item[_ngcontent-%COMP%]   .tool-label[_ngcontent-%COMP%]{flex:0 20em;padding:0 0 0 20px}"]}),n})()}];let Ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.Bz.forChild($e)],f.Bz]}),n})();var Be=l(8512),ze=l(7194);let Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Ge,Be.m,ze.I,d.u5,d.UX]]}),n})()}}]);